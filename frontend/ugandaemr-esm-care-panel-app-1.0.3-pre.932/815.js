"use strict";(globalThis.webpackChunk_ugandaemr_esm_care_panel_app=globalThis.webpackChunk_ugandaemr_esm_care_panel_app||[]).push([[815],{9815:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(5206),a=n.n(r),i=n(4924),l=n(2942),o=n(1e3),c=n(3255);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const u=function(e){var t,n,u=e.closeCancelModal,d=e.regimenEncounterUuid,m=e.patientUuid,g=e.category,p=e.closeWorkspace,f=(0,i.useTranslation)().t,y=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=y[0],h=y[1],b=(0,r.useCallback)((function(e){var t,n;e.preventDefault(),h(!0),(t=d,n=new AbortController,(0,o.openmrsFetch)("/ws/rest/v1/encounter/".concat(t),{headers:{"Content-Type":"application/json"},method:"DELETE",signal:n.signal})).then((function(e){var t;204===e.status&&(u(),(0,o.showToast)({critical:!0,kind:"success",description:f("regimenDeletedSuccessfully","Regimen successfully"),title:f("regimenDeleted","Regimen deleted")}),(0,c.JG)("/ws/rest/v1/regimenHistory?patientUuid=".concat(m,"&category=").concat(g)),(0,c.JG)("/ws/rest/v1/currentProgramDetails?patientUuid=".concat(m)),(0,c.JG)("/ws/rest/v1/patientSummary?patientUuid=".concat(m)),(0,c.JG)("/ws/rest/v1/lastRegimenEncounter?patientUuid=".concat(m,"&category=").concat(g)),null===(t=p)||void 0===t||t())})).catch((function(e){var t;(0,o.showNotification)({title:f("regimenDeletedError","Error deleting regimen"),kind:"error",critical:!0,description:null===(t=e)||void 0===t?void 0:t.message})}))}),[f,d,u,g,m,p]);return a().createElement("div",null,a().createElement(l.xBx,{closeModal:u,title:f("deleteRegimen","Delete Regimen")}),a().createElement(l.fef,null,a().createElement("p",null,f("deleteRegimenModalConfirmationText","Are you sure you want to delete regimen?"))),a().createElement(l.mzw,null,a().createElement(l.zxk,{kind:"secondary",onClick:u},f("discard","Discard")),a().createElement(l.zxk,{kind:"danger",onClick:b,disabled:v},f("deleteRegimen","Delete Regimen"))))}}}]);