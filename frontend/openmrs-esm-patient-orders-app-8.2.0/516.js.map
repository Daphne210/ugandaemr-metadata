{"version":3,"file":"516.js","mappings":"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","sources":["webpack://@openmrs/esm-patient-orders-app/./src/order-basket/order-basket.scss","webpack://@openmrs/esm-patient-orders-app/./src/order-basket/order-basket.scss?c8bc","webpack://@openmrs/esm-patient-orders-app/./src/order-basket/order-basket.workspace.tsx","webpack://@openmrs/esm-patient-orders-app/./src/api/api.ts","webpack://@openmrs/esm-patient-orders-app/../../node_modules/classnames/index.js"],"names":["___CSS_LOADER_EXPORT___","push","module","id","locals","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","showOrderSuccessToast","t","patientOrderItems","orderedString","filter","item","includes","action","map","display","join","updatedString","discontinuedString","showSnackbar","isLowContrast","kind","title","subtitle","patientUuid","closeWorkspace","closeWorkspaceWithSavedChanges","promptBeforeClosing","useTranslation","isTablet","useLayoutType","config","useConfig","session","useSession","useVisitOrOfflineVisit","activeVisit","useOrderBasket","orders","clearOrders","useState","ordersWithErrors","setOrdersWithErrors","useOrderEncounter","useSystemVisitSetting","systemVisitEnabled","isLoadingSystemVisitSetting","errorFetchingSystemVisitSetting","now","Date","nowDateString","getFullYear","getMonth","getDate","todayEncounter","useSWR","restBaseUrl","openmrsFetch","visit","useMemo","activeVisitRequired","isLoading","error","encounterUuid","mutate","currentVisit","encounters","uuid","data","results","isSavingOrders","setIsSavingOrders","creatingEncounterError","setCreatingEncounterError","useMutatePatientOrders","useSWRConfig","useCallback","key","startsWith","useEffect","length","openStartVisitDialog","dispose","showModal","closeModal","handleSave","abortController","orderEncounterUuid","e","erroredItems","AbortController","postOrdersOnNewEncounter","orderEncounterType","sessionLocation","mutateEncounterUuid","mutateOrders","console","responseBody","message","postOrders","exceptThoseMatching","abort","handleCancel","onWorkspaceClose","div","className","styles","container","orderBasketContainer","ExtensionSlot","classNames","orderBasketSlot","orderBasketSlotTablet","name","errorFetchingEncounterUuid","InlineNotification","lowContrast","inlineNotification","order","orderName","extractedOrderError","fieldErrors","ButtonSet","buttonSet","Button","actionButton","onClick","disabled","isLoadingEncounterUuid","some","isOrderIncomplete","InlineLoading","description","span","ActionableNotification","actionButtonLabel","onActionButtonClick","inline","actionNotification","hasFocus","hasOwn","hasOwnProperty","classes","i","arguments","arg","appendClass","parseValue","Array","isArray","apply","toString","Object","prototype","call","value","newClass","exports","default"],"sourceRoot":""}